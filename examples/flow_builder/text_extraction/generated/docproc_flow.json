{
  "spec": {
    "kind": "flow",
    "name": "text_extraction_flow_example",
    "display_name": "text_extraction_flow_example",
    "description": "This flow consists of one node: a docproc node, which extracts text from the input document",
    "input_schema": {
      "$ref": "#/schemas/text_extraction_flow_example_input"
    },
    "schedulable": false
  },
  "nodes": {
    "text_extraction": {
      "spec": {
        "kind": "docproc",
        "name": "text_extraction",
        "display_name": "text_extraction",
        "description": "Extract text out of a document's contents.",
        "input_schema": {
          "$ref": "#/schemas/text_extraction_input"
        },
        "output_schema": {
          "$ref": "#/schemas/TextExtractionResponse"
        },
        "task": "text_extraction"
      }
    },
    "__start__": {
      "spec": {
        "kind": "start",
        "name": "__start__",
        "display_name": "__start__"
      }
    },
    "__end__": {
      "spec": {
        "kind": "end",
        "name": "__end__",
        "display_name": "__end__"
      }
    }
  },
  "edges": [
    {
      "start": "__start__",
      "end": "text_extraction"
    },
    {
      "start": "text_extraction",
      "end": "__end__"
    }
  ],
  "schemas": {
    "text_extraction_flow_example_input": {
      "type": "object",
      "title": "text_extraction_flow_example_input",
      "required": [],
      "properties": {
        "document_ref": {
          "title": "Document reference",
          "description": "Either an ID or a URL identifying the document to be used.",
          "format": "binary",
          "anyOf": [
            {
              "type": "string",
              "format": "binary"
            },
            {
              "type": "string",
              "title": "Document reference",
              "description": "Either an ID or a URL identifying the document to be used.",
              "required": [],
              "format": "binary"
            }
          ]
        },
        "kvp_schemas": {
          "title": "KVP schemas",
          "description": "Optional list of key-value pair schemas to use for extraction.",
          "anyOf": [
            {
              "type": "array",
              "items": {
                "type": "object",
                "title": "DocProcKVPSchema",
                "required": [
                  "document_type",
                  "document_description",
                  "fields"
                ],
                "properties": {
                  "document_type": {
                    "type": "string",
                    "title": "Document Type",
                    "description": "A label for the kind of documents we want to extract"
                  },
                  "document_description": {
                    "type": "string",
                    "title": "Document Description",
                    "description": "A description of the kind of documents we want to extractI. This is used to select which schema to use for extraction."
                  },
                  "fields": {
                    "type": "object",
                    "title": "Fields",
                    "description": "The fields to extract from the document. These are the keys in the KVP extraction result.",
                    "additionalProperties": {
                      "anyOf": [
                        {
                          "properties": {
                            "description": {
                              "description": "A description of the field to extract from the document.",
                              "title": "Description",
                              "type": "string"
                            },
                            "example": {
                              "default": "",
                              "description": "An example of the field to extract from the document.",
                              "title": "Example",
                              "type": "string"
                            },
                            "default": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ],
                              "default": "",
                              "description": "A default value for the field to extract from the document.",
                              "title": "Default"
                            }
                          },
                          "required": [
                            "description"
                          ],
                          "title": "DocProcField",
                          "type": "object"
                        },
                        {
                          "properties": {
                            "type": {
                              "const": "array",
                              "title": "Type",
                              "type": "string"
                            },
                            "description": {
                              "description": "A description of the table to extract from the document.",
                              "title": "Description",
                              "type": "string"
                            },
                            "columns": {
                              "additionalProperties": {
                                "properties": {
                                  "description": {
                                    "description": "A description of the field to extract from the document.",
                                    "title": "Description",
                                    "type": "string"
                                  },
                                  "example": {
                                    "default": "",
                                    "description": "An example of the field to extract from the document.",
                                    "title": "Example",
                                    "type": "string"
                                  },
                                  "default": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "null"
                                      }
                                    ],
                                    "default": "",
                                    "description": "A default value for the field to extract from the document.",
                                    "title": "Default"
                                  }
                                },
                                "required": [
                                  "description"
                                ],
                                "title": "DocProcField",
                                "type": "object"
                              },
                              "description": "The columns to extract from the table. These are the keys in the table extraction result.",
                              "title": "Columns",
                              "type": "object"
                            }
                          },
                          "required": [
                            "type",
                            "description",
                            "columns"
                          ],
                          "title": "DocProcTable",
                          "type": "object"
                        }
                      ]
                    }
                  }
                }
              }
            },
            {
              "type": "null"
            }
          ]
        }
      }
    },
    "text_extraction_input": {
      "type": "object",
      "title": "text_extraction_input",
      "required": [],
      "properties": {
        "document_ref": {
          "title": "Document reference",
          "description": "Either an ID or a URL identifying the document to be used.",
          "format": "binary",
          "anyOf": [
            {
              "type": "string",
              "format": "binary"
            },
            {
              "type": "string",
              "title": "Document reference",
              "description": "Either an ID or a URL identifying the document to be used.",
              "required": [],
              "format": "binary"
            }
          ]
        },
        "kvp_schemas": {
          "title": "KVP schemas",
          "description": "Optional list of key-value pair schemas to use for extraction.",
          "anyOf": [
            {
              "type": "array",
              "items": {
                "type": "object",
                "title": "DocProcKVPSchema",
                "required": [
                  "document_type",
                  "document_description",
                  "fields"
                ],
                "properties": {
                  "document_type": {
                    "type": "string",
                    "title": "Document Type",
                    "description": "A label for the kind of documents we want to extract"
                  },
                  "document_description": {
                    "type": "string",
                    "title": "Document Description",
                    "description": "A description of the kind of documents we want to extractI. This is used to select which schema to use for extraction."
                  },
                  "fields": {
                    "type": "object",
                    "title": "Fields",
                    "description": "The fields to extract from the document. These are the keys in the KVP extraction result.",
                    "additionalProperties": {
                      "anyOf": [
                        {
                          "properties": {
                            "description": {
                              "description": "A description of the field to extract from the document.",
                              "title": "Description",
                              "type": "string"
                            },
                            "example": {
                              "default": "",
                              "description": "An example of the field to extract from the document.",
                              "title": "Example",
                              "type": "string"
                            },
                            "default": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ],
                              "default": "",
                              "description": "A default value for the field to extract from the document.",
                              "title": "Default"
                            }
                          },
                          "required": [
                            "description"
                          ],
                          "title": "DocProcField",
                          "type": "object"
                        },
                        {
                          "properties": {
                            "type": {
                              "const": "array",
                              "title": "Type",
                              "type": "string"
                            },
                            "description": {
                              "description": "A description of the table to extract from the document.",
                              "title": "Description",
                              "type": "string"
                            },
                            "columns": {
                              "additionalProperties": {
                                "properties": {
                                  "description": {
                                    "description": "A description of the field to extract from the document.",
                                    "title": "Description",
                                    "type": "string"
                                  },
                                  "example": {
                                    "default": "",
                                    "description": "An example of the field to extract from the document.",
                                    "title": "Example",
                                    "type": "string"
                                  },
                                  "default": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "type": "null"
                                      }
                                    ],
                                    "default": "",
                                    "description": "A default value for the field to extract from the document.",
                                    "title": "Default"
                                  }
                                },
                                "required": [
                                  "description"
                                ],
                                "title": "DocProcField",
                                "type": "object"
                              },
                              "description": "The columns to extract from the table. These are the keys in the table extraction result.",
                              "title": "Columns",
                              "type": "object"
                            }
                          },
                          "required": [
                            "type",
                            "description",
                            "columns"
                          ],
                          "title": "DocProcTable",
                          "type": "object"
                        }
                      ]
                    }
                  }
                }
              }
            },
            {
              "type": "null"
            }
          ]
        }
      }
    },
    "TextExtractionResponse": {
      "type": "object",
      "title": "TextExtractionResponse",
      "description": "The text extraction operation response.\nAttributes:\n    text (str): the text extracted from the input document.\n    kvps (Optional[list[DocProcKVP]]): A list of key-value pairs extracted from the document. If no KVPs were extracted, this will be None.",
      "required": [
        "text"
      ],
      "properties": {
        "text": {
          "type": "string",
          "title": "text",
          "description": "The text extracted from the input document"
        },
        "kvps": {
          "title": "Kvps",
          "description": "A list of key-value pairs extracted from the document.",
          "anyOf": [
            {
              "type": "array",
              "items": {
                "type": "object",
                "title": "DocProcKVP",
                "required": [
                  "id",
                  "type",
                  "key",
                  "value"
                ],
                "properties": {
                  "id": {
                    "type": "string",
                    "title": "Id",
                    "description": "A unique identifier for the key-value pair."
                  },
                  "type": {
                    "type": "string",
                    "title": "Type",
                    "enum": [
                      "key_value",
                      "only_value"
                    ]
                  },
                  "key": {
                    "type": "object",
                    "title": "DocProcKey",
                    "required": [
                      "id",
                      "raw_text",
                      "semantic_label"
                    ],
                    "properties": {
                      "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "A unique identifier."
                      },
                      "raw_text": {
                        "type": "string",
                        "title": "Raw Text",
                        "description": "The raw text."
                      },
                      "normalized_text": {
                        "title": "Normalized Text",
                        "description": "The normalized text.",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "null"
                          }
                        ]
                      },
                      "confidence_score": {
                        "title": "Confidence Score",
                        "description": "The confidence score.",
                        "anyOf": [
                          {
                            "type": "number"
                          },
                          {
                            "type": "null"
                          }
                        ]
                      },
                      "bbox": {
                        "description": "The bounding box in the document.",
                        "anyOf": [
                          {
                            "type": "object",
                            "title": "DocProcBoundingBox",
                            "required": [
                              "x",
                              "y",
                              "width",
                              "height",
                              "page_number"
                            ],
                            "properties": {
                              "x": {
                                "type": "number",
                                "title": "X",
                                "description": "The x coordinate of the bounding box."
                              },
                              "y": {
                                "type": "number",
                                "title": "Y",
                                "description": "The y coordinate of the bounding box."
                              },
                              "width": {
                                "type": "number",
                                "title": "Width",
                                "description": "The width of the bounding box."
                              },
                              "height": {
                                "type": "number",
                                "title": "Height",
                                "description": "The height of the bounding box."
                              },
                              "page_number": {
                                "type": "integer",
                                "title": "Page Number",
                                "description": "The page number of the bounding box in the document."
                              }
                            }
                          },
                          {
                            "type": "null"
                          }
                        ]
                      },
                      "semantic_label": {
                        "type": "string",
                        "title": "Semantic Label",
                        "description": "A semantic label for the key."
                      }
                    }
                  },
                  "value": {
                    "type": "object",
                    "title": "DocProcValue",
                    "required": [
                      "id",
                      "raw_text"
                    ],
                    "properties": {
                      "id": {
                        "type": "string",
                        "title": "Id",
                        "description": "A unique identifier."
                      },
                      "raw_text": {
                        "type": "string",
                        "title": "Raw Text",
                        "description": "The raw text."
                      },
                      "normalized_text": {
                        "title": "Normalized Text",
                        "description": "The normalized text.",
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "null"
                          }
                        ]
                      },
                      "confidence_score": {
                        "title": "Confidence Score",
                        "description": "The confidence score.",
                        "anyOf": [
                          {
                            "type": "number"
                          },
                          {
                            "type": "null"
                          }
                        ]
                      },
                      "bbox": {
                        "description": "The bounding box in the document.",
                        "anyOf": [
                          {
                            "type": "object",
                            "title": "DocProcBoundingBox",
                            "required": [
                              "x",
                              "y",
                              "width",
                              "height",
                              "page_number"
                            ],
                            "properties": {
                              "x": {
                                "type": "number",
                                "title": "X",
                                "description": "The x coordinate of the bounding box."
                              },
                              "y": {
                                "type": "number",
                                "title": "Y",
                                "description": "The y coordinate of the bounding box."
                              },
                              "width": {
                                "type": "number",
                                "title": "Width",
                                "description": "The width of the bounding box."
                              },
                              "height": {
                                "type": "number",
                                "title": "Height",
                                "description": "The height of the bounding box."
                              },
                              "page_number": {
                                "type": "integer",
                                "title": "Page Number",
                                "description": "The page number of the bounding box in the document."
                              }
                            }
                          },
                          {
                            "type": "null"
                          }
                        ]
                      }
                    }
                  },
                  "group_id": {
                    "title": "Group Id",
                    "description": "The group id of the key-value pair. This is used to group key-value pairs together.",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  },
                  "table_id": {
                    "title": "Table Id",
                    "description": "The table id of the key-value pair. This is used to group key-value pairs together in a table.",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  },
                  "table_name": {
                    "title": "Table Name",
                    "description": "The name of the table the key-value pair belongs to. This is used to group key-value pairs together in a table.",
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  },
                  "table_row_index": {
                    "title": "Table Row Index",
                    "description": "The index of the row in the table the key-value pair belongs to. This is used to group key-value pairs together in a table.",
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  }
                }
              }
            },
            {
              "type": "null"
            }
          ]
        }
      }
    }
  },
  "metadata": {
    "source_kind": "adk/python",
    "compiled_on": "2025-08-04T22:22:38.774913+00:00"
  }
}